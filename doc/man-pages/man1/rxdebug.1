.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RXDEBUG 1"
.TH RXDEBUG 1 "2010-12-15" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
rxdebug \- Provides debugging trace of Rx activity
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBrxdebug\fR \fB\-servers\fR\ <\fIserver\ machine\fR> [\fB\-port\fR\ <\fI\s-1IP\s0\ port\fR>]
    [\fB\-nodally\fR] [\fB\-allconnections\fR] [\fB\-rxstats\fR] [\fB\-onlyserver\fR]
    [\fB\-onlyclient\fR] [\fB\-onlyport\fR\ <\fIshow\ only\ port\fR>]
    [\fB\-onlyhost\fR\ <\fIshow\ only\ host\fR>]
    [\fB\-onlyauth\fR\ <\fIshow\ only\ auth\ level\fR>] [\fB\-version\fR]
    [\fB\-noconns\fR] [\fB\-peers\fR] [\fB\-help\fR]
.PP
\&\fBrxdebug\fR \fB\-s\fR\ <\fIserver\ machine\fR> [\fB\-po\fR\ <\fI\s-1IP\s0\ port\fR>] [\fB\-nod\fR]
    [\fB\-a\fR] [\fB\-r\fR] [\fB\-onlys\fR] [\fB\-onlyc\fR] [\fB\-onlyp\fR\ <\fIshow\ only\ port\fR>]
    [\fB\-onlyh\fR\ <\fIshow\ only\ host\fR>] [\fB\-onlya\fR\ <\fIshow\ only\ auth\ level\fR>]
    [\fB\-v\fR] [\fB\-noc\fR] [\fB\-pe\fR] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBrxdebug\fR command provides a trace of Rx activity for the server or
client machine named by the \fB\-servers\fR argument. Rx is \s-1AFS\s0's proprietary
remote procedure call (\s-1RPC\s0) protocol, so this command enables the issuer
to check the status of communication between the Cache Manager or an \s-1AFS\s0
server process (as specified with the \fB\-port\fR argument) on the machine
and one or more processes on other machines.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-servers\fR <\fIserver machine\fR>" 4
.IX Item "-servers <server machine>"
Specifies the machine that is running the Cache Manager or server process
for which to trace Rx activity. Provide the machine's \s-1IP\s0 address in dotted
decimal format, its fully qualified host name (for example,
\&\f(CW\*(C`fs1.abc.com\*(C'\fR), or the shortest abbreviated form of its host name that
distinguishes it from other machines. Successful use of an abbreviated
form depends on the availability of a name resolution service (such as the
Domain Name Service or a local host table) at the time the command is
issued.
.IP "\fB\-port\fR <\fI\s-1IP\s0 port\fR>" 4
.IX Item "-port <IP port>"
Specifies the process for which to trace Rx activity. Omit this argument
to specify the File Server (\fBfileserver\fR process), or provide one of the
following values:
.RS 4
.ie n .IP "7000\fR for the File Server (\fBfileserver process)" 4
.el .IP "\f(CW7000\fR for the File Server (\fBfileserver\fR process)" 4
.IX Item "7000 for the File Server (fileserver process)"
.PD 0
.ie n .IP "7001 for the Cache Manager (specifically, its callback interface)" 4
.el .IP "\f(CW7001\fR for the Cache Manager (specifically, its callback interface)" 4
.IX Item "7001 for the Cache Manager (specifically, its callback interface)"
.ie n .IP "7002\fR for the Protection Server (\fBptserver process)" 4
.el .IP "\f(CW7002\fR for the Protection Server (\fBptserver\fR process)" 4
.IX Item "7002 for the Protection Server (ptserver process)"
.ie n .IP "7003\fR for the Volume Location (\s-1VL\s0) Server (\fBvlserver process)" 4
.el .IP "\f(CW7003\fR for the Volume Location (\s-1VL\s0) Server (\fBvlserver\fR process)" 4
.IX Item "7003 for the Volume Location (VL) Server (vlserver process)"
.ie n .IP "7004\fR for the Authentication Server (\fBkaserver process)" 4
.el .IP "\f(CW7004\fR for the Authentication Server (\fBkaserver\fR process)" 4
.IX Item "7004 for the Authentication Server (kaserver process)"
.ie n .IP "7005\fR for the Volume Server (\fBvolserver process)" 4
.el .IP "\f(CW7005\fR for the Volume Server (\fBvolserver\fR process)" 4
.IX Item "7005 for the Volume Server (volserver process)"
.ie n .IP "7007\fR for the \s-1BOS\s0 Server (\fBbosserver process)" 4
.el .IP "\f(CW7007\fR for the \s-1BOS\s0 Server (\fBbosserver\fR process)" 4
.IX Item "7007 for the BOS Server (bosserver process)"
.ie n .IP "7008\fR for the Update Server (\fBupserver process)" 4
.el .IP "\f(CW7008\fR for the Update Server (\fBupserver\fR process)" 4
.IX Item "7008 for the Update Server (upserver process)"
.ie n .IP "7009\fR for the \s-1NFS/AFS\s0 Translator's \fBrmtsysd daemon" 4
.el .IP "\f(CW7009\fR for the \s-1NFS/AFS\s0 Translator's \fBrmtsysd\fR daemon" 4
.IX Item "7009 for the NFS/AFS Translator's rmtsysd daemon"
.ie n .IP "7021\fR for the Backup Server (\fBbuserver process)" 4
.el .IP "\f(CW7021\fR for the Backup Server (\fBbuserver\fR process)" 4
.IX Item "7021 for the Backup Server (buserver process)"
.RE
.RS 4
.PD
.Sp
Finally, specify \f(CW7025\fR through \f(CW65535\fR for the Backup Tape Coordinator
(\fBbutc\fR process) that has the port offset number derived by subtracting
7025 from this value.
.RE
.IP "\fB\-nodally\fR" 4
.IX Item "-nodally"
Produces output only for connections that are not in dally mode.
.IP "\fB\-allconnections\fR" 4
.IX Item "-allconnections"
Produces output for all connections, even inactive ones. By default, the
output includes information only for connections that are active or in
dally mode when the \fBrxdebug\fR command is issued.
.IP "\fB\-rxstats\fR" 4
.IX Item "-rxstats"
Produces detailed statistics about Rx history and performance (for
example, counts of the number of packets of various types the process has
read and sent, calculations of average and minimum roundtrip time, and so
on).
.IP "\fB\-onlyserver\fR" 4
.IX Item "-onlyserver"
Produces output only for connections in which the process designated by
the \fB\-port\fR argument is acting as the server.
.IP "\fB\-onlyclient\fR" 4
.IX Item "-onlyclient"
Produces output only for connections in which the process designated by
the \fB\-port\fR argument is acting as the client.
.IP "\fB\-onlyport\fR <\fIport\fR>" 4
.IX Item "-onlyport <port>"
Produces output only for connections between the process designated by the
\&\fB\-port\fR argument and the specified port on any another machine. Use the
same port identifiers as for the \fB\-port\fR argument.
.IP "\fB\-onlyhost\fR <\fIhost\fR>" 4
.IX Item "-onlyhost <host>"
Produces output only for connections between the process designated by the
\&\fB\-port\fR argument and any process on the specified machine. To identify
the machine, use the same notation as for the \fB\-servers\fR argument.
.IP "\fB\-onlyauth\fR" 4
.IX Item "-onlyauth"
Produces output only for connections that are using the specified
authentication level. Provide one of the following values:
.RS 4
.IP "auth" 4
.IX Item "auth"
Cconnections at authentication level rxkad_auth
.IP "clear" 4
.IX Item "clear"
Connections at authentication level rxkad_clear
.IP "crypt" 4
.IX Item "crypt"
Connections at authentication level rxkad_crypt
.IP "none" 4
.IX Item "none"
Unauthenticated connections (equivalents are \f(CW\*(C`null\*(C'\fR, \f(CW\*(C`noauth\*(C'\fR, and
\&\f(CW\*(C`unauth\*(C'\fR)
.RE
.RS 4
.RE
.IP "\fB\-version\fR" 4
.IX Item "-version"
Reports the \s-1AFS\s0 build level of the binary file for the process designated
by the \fB\-port\fR argument (or of the kernel extensions file for port 7001,
the Cache Manager's callback interface). Any other options combined with
this one are ignored.
.IP "\fB\-noconns\fR" 4
.IX Item "-noconns"
Produces only the standard statistics that begin the output produced by
every option (other than \fB\-version\fR), without reporting on any
connections. Any other options combined with this one are ignored.
.IP "\fB\-peers\fR" 4
.IX Item "-peers"
Outputs information from the \fIpeer structure\fR maintained for each port on
another machine to which the process designated by the \fB\-port\fR argument
has a connection. There is information about roundtrip time and numbers of
packets sent and received, for example.
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "OUTPUT"
.IX Header "OUTPUT"
If any options other than \fB\-version\fR or \fB\-help\fR are provided, the output
written to the standard output stream begins with basic statistics about
packet usage and availability, how many calls are waiting for a thread,
how many threads are free, and so on (this is the only information
provided by the \fB\-noconns\fR flag). Adding other options produces
additional information as described in \s-1OPTIONS\s0. The output is intended
for debugging purposes and is meaningful to someone familiar with the
implementation of Rx.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following command shows Rx statistics on the server 192.168.1.100:
.PP
.Vb 7
\&   % rxdebug  192.168.1.100
\&   Trying 192.168.1.100 (port 7000):
\&   Free packets: 265, packet reclaims: 0, calls: 0, used FDs: 34
\&   not waiting for packets.
\&   0 calls waiting for a thread
\&   11 threads are idle
\&   Done.
.Ve
.PP
The following command shows the OpenAFS version running on the server
192.168.1.100:
.PP
.Vb 3
\&   % rxdebug  192.168.1.100 \-version
\&   Trying 192.168.1.100 (port 7000):
\&   AFS version:  OpenAFS 1.4.2fc2 built  2006\-08\-31
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
None.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIafsd\fR\|(8),
\&\fIbosserver\fR\|(8),
\&\fIbuserver\fR\|(8),
\&\fIbutc\fR\|(8),
\&\fIfileserver\fR\|(8),
\&\fIkaserver\fR\|(8),
\&\fIptserver\fR\|(8),
\&\fIupclient\fR\|(8),
\&\fIupserver\fR\|(8),
\&\fIvlserver\fR\|(8),
\&\fIvolserver\fR\|(8)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
