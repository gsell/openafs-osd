.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PTS_MEMBERSHIP 1"
.TH PTS_MEMBERSHIP 1 "2011-07-19" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
pts_membership \- Displays the membership list for a user or group
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBpts membership\fR \fB\-nameorid\fR\ <\fIuser\ or\ group\ name\ or\ id\fR>+
    [\fB\-supergroups\fR] [\fB\-expandgroups\fR] [\fB\-cell\fR\ <\fIcell\ name\fR>]
    [\fB\-localauth\fR] [\fB\-noauth\fR] [\fB\-force\fR] [\fB\-help\fR]
.PP
\&\fBpts m\fR \fB\-na\fR\ <\fIuser\ or\ group\ name\ or\ id\fR>+
    [\fB\-s\fR] [\fB\-ex\fR] [\fB\-c\fR\ <\fIcell\ name\fR>]
    [\fB\-no\fR] [\fB\-l\fR] [\fB\-f\fR] [\fB\-h\fR]
.PP
\&\fBpts groups\fR \fB\-na\fR\ <\fIuser\ or\ group\ name\ or\ id\fR>+
    [\fB\-s\fR] [\fB\-ex\fR] [\fB\-c\fR\ <\fIcell\ name\fR>]
    [\fB\-no\fR] [\fB\-l\fR] [\fB\-f\fR] [\fB\-h\fR]
.PP
\&\fBpts g\fR \fB\-na\fR\ <\fIuser\ or\ group\ name\ or\ id\fR>+
    [\fB\-s\fR] [\fB\-ex\fR] [\fB\-c\fR\ <\fIcell\ name\fR>]
    [\fB\-no\fR] [\fB\-l\fR] [\fB\-f\fR] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBpts membership\fR command lists the groups to which each user or
machine specified by the \fB\-nameorid\fR argument belongs, or lists the users
and machines that belong to each group specified by the \fB\-nameorid\fR
argument.
.PP
It is not possible to list the members of the system:anyuser or
system:authuser groups, and they do not appear in the list of groups to
which a user belongs.
.PP
To add users or machine to groups, use the \fBpts adduser\fR command; to remove
them, use the \fBpts removeuser\fR command.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-nameorid\fR <\fIuser or group name or id\fR>+" 4
.IX Item "-nameorid <user or group name or id>+"
Specifies the name or \s-1AFS\s0 \s-1UID\s0 of each user entry, the \s-1IP\s0 address (complete
or wildcard-style) or \s-1AFS\s0 \s-1UID\s0 of each machine entry, or the name or \s-1AFS\s0
\&\s-1GID\s0 of each group, for which to list group membership. It is acceptable to
mix users, machines, and groups on the same command line, as well as names
and IDs. Precede the \s-1GID\s0 of each group with a hyphen to indicate that it
is negative.
.IP "\fB\-supergroups\fR" 4
.IX Item "-supergroups"
List the groups to which each group specified by the \fB\-nameorid\fR
argument belongs, in addition to user and machine members. Group
membership may be nested when \fBptserver\fR is compilied with the
\&\s-1SUPERGROUPS\s0 option enabled.
.IP "\fB\-expandgroups\fR" 4
.IX Item "-expandgroups"
Instead of listing only the groups in which the user or machine is a direct
member, list every group in which the user or machine belongs, including
membership due to nested groups, for each user or machine specified by
the \fB\-nameorid\fR argument.
.Sp
Instead of listing groups which are members of a group, list every user and
machine which is a member of a group, including the users and machines which
are members due to nested groups, for each group specified by the \fB\-nameorid\fR
argument.
.Sp
Group membership may be nested when \fBptserver\fR is compilied with the
\&\s-1SUPERGROUPS\s0 option enabled.
.IP "\fB\-cell\fR <\fIcell name\fR>" 4
.IX Item "-cell <cell name>"
Names the cell in which to run the command. For more details, see
\&\fIpts\fR\|(1).
.IP "\fB\-force\fR" 4
.IX Item "-force"
Enables the command to continue executing as far as possible when errors
or other problems occur, rather than halting execution at the first error.
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.IP "\fB\-localauth\fR" 4
.IX Item "-localauth"
Constructs a server ticket using a key from the local
\&\fI/usr/afs/etc/KeyFile\fR file. Do not combine this flag with the \fB\-cell\fR 
or \fB\-noauth\fR options. For more details, see \fIpts\fR\|(1).
.IP "\fB\-noauth\fR" 4
.IX Item "-noauth"
Assigns the unprivileged identity anonymous to the issuer. For more
details, see \fIpts\fR\|(1).
.SH "OUTPUT"
.IX Header "OUTPUT"
For each user and machine, the output begins with the following header
line, followed by a list of the groups to which the user or machine
belongs:
.PP
.Vb 1
\&   Groups <name> (id: <AFS UID>) is a member of:
.Ve
.PP
For each group, the output begins with the following header line, followed
by a list of the users and machines who belong to the group:
.PP
.Vb 1
\&   Members of <group_name> (id: <AFS GID>) are:
.Ve
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following example lists the groups to which the user \f(CW\*(C`pat\*(C'\fR belongs
and the members of the group \f(CW\*(C`smith:friends\*(C'\fR.  Note that third privacy
flag for the \f(CW\*(C`pat\*(C'\fR entry was changed from the default hyphen to enable a
non-administrative user to obtain this listing.
.PP
.Vb 11
\&   % pts membership pat smith:friends
\&   Groups pat (id: 1144) is a member of:
\&     smith:friends
\&     staff
\&     johnson:project\-team
\&   Members of smith:friends (id: \-562) are:
\&     pat
\&     terry
\&     jones
\&     richard
\&     thompson
.Ve
.PP
The following example shows how to list the groups to which nested groups
belong. In this example the group \f(CW\*(C`executives\*(C'\fR is a member of the group
\&\f(CW\*(C`management\*(C'\fR and the group \f(CW\*(C`management\*(C'\fR is a member of the group \f(CW\*(C`staff\*(C'\fR.
The group \f(CW\*(C`management\*(C'\fR is called a supergroup of the group \f(CW\*(C`executives\*(C'\fR and the
group \f(CW\*(C`staff\*(C'\fR is called a supergroup of the group \f(CW\*(C`management\*(C'\fR.
.PP
.Vb 3
\&   % pts membership executives
\&   Members of executives (id: \-208) are:
\&     jane
\&
\&   % pts membership executives \-supergroups
\&   Members of executives (id: \-208) are:
\&     jane
\&   Groups executives (id: \-208) is a member of:
\&     management
\&
\&   % pts membership management \-supergroups
\&   Members of management (id: \-207) are:
\&     executives
\&     mary
\&     sarah
\&     carol
\&   Groups management (id: \-207) is a member of:
\&      staff
\&
\&   % pts membership staff \-supergroups
\&   Members of staff (id: \-206) are:
\&     sales
\&     marketing
\&     engineering
\&     management
\&   Groups staff (id: \-206) is a member of:
.Ve
.PP
The following example shows how to find all the users which belong
to a group, including users of nested groups. In this example, the
user \f(CW\*(C`jane\*(C'\fR is listed as an expanded member of the group \f(CW\*(C`management\*(C'\fR
instead of the group \f(CW\*(C`executives\*(C'\fR.
.PP
.Vb 6
\&   % pts membership management \-expandgroups
\&   Expanded Members of management (id: \-207) are:
\&     jane
\&     mary
\&     sarah
\&     carol
.Ve
.PP
The following example shows how to find all the groups a user
is a member of, including membership due to nested groups.  In
this example the user \f(CW\*(C`jane\*(C'\fR is a direct member of the group
\&\f(CW\*(C`executives\*(C'\fR. The \f(CW\*(C`\-expandgroups\*(C'\fR flag shows all the groups
to which \f(CW\*(C`jane\*(C'\fR has membership status.
.PP
.Vb 3
\&   % pts membership jane
\&   Groups jane (id: 7) is a member of:
\&     executives
\&
\&   % pts membership jane \-expandgroups
\&   Expanded Groups jane (id: 7) is a member of:
\&     staff
\&     management
\&     executives
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
Members of the system:ptsviewers and system:administrators groups can
always use this command in any of its variations.  Additionally, a user
can always list the groups to which they belong, and the owner of a group
can always list the members of the group.
.PP
Additional privileges may be granted by the setting of the third privacy
flag in the Protection Database entry of each user or group indicated by
the \fB\-nameorid\fR argument (use the \fBpts examine\fR command to display the
flags):
.IP "\(bu" 4
If it is a hyphen, the default permissions described above apply.
.IP "\(bu" 4
If it is lowercase \f(CW\*(C`m\*(C'\fR and the \fB\-nameorid\fR argument specifies a group,
then members of that group can also list the other members.  A privacy
flag of \f(CW\*(C`m\*(C'\fR only changes the permissions when set for a group.  Setting
this flag for a user or a machine has no effect.
.IP "\(bu" 4
If it is uppercase \f(CW\*(C`M\*(C'\fR, anyone who can access the cell's database server
machines can list the membership of the group or the groups to which that
user or machine belongs, depending on what type of entry the flag is set
on.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIpts\fR\|(1),
\&\fIpts_adduser\fR\|(1),
\&\fIpts_examine\fR\|(1),
\&\fIpts_removeuser\fR\|(1),
\&\fIpts_setfields\fR\|(1)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
