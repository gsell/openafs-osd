.\" Automatically generated by Pod::Man 2.23 (Pod::Simple 3.14)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "BACKUP_ADDVOLENTRY 8"
.TH BACKUP_ADDVOLENTRY 8 "2011-09-06" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
backup_addvolentry \- Defines a volume entry in a volume set
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBbackup addvolentry\fR \fB\-name\fR\ <\fIvolume\ set\ name\fR>
    \fB\-server\fR\ <\fImachine\ name\fR>
    \fB\-partition\fR\ <\fIpartition\ name\fR>
    \fB\-volumes\fR\ <\fIvolume\ name\ (regular\ expression)\fR>
    [\fB\-localauth\fR] [\fB\-cell\fR\ <\fIcell\ name\fR>] [\fB\-help\fR]
.PP
\&\fBbackup addvole\fR \fB\-n\fR\ <\fIvolume\ set\ name\fR>
    \fB\-s\fR\ <\fImachine\ name\fR>
    \fB\-p\fR\ <\fIpartition\ name\fR>
    \fB\-v\fR\ <\fIvolume\ name\ (regular\ expression)\fR>
    [\fB\-l\fR] [\fB\-c\fR\ <\fIcell\ name\fR>] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBbackup addvolentry\fR command adds a volume entry definition to the
existing volume set named by the \fB\-name\fR argument. A volume entry
definition can match one or more volumes, depending on the combination of
the \fB\-server\fR, \fB\-partition\fR, and \fB\-volumes\fR arguments.
.PP
For the \fB\-server\fR and \fB\-partition\fR arguments, provide either
.IP "\(bu" 4
The name of one machine or partition.
.IP "\(bu" 4
The metacharacter expression .* (period and asterisk), which matches every
machine name or partition name in the Volume Location Database (\s-1VLDB\s0).
.PP
For the \fB\-volumes\fR argument, specify a combination of alphanumeric
characters and one or more metacharacters to wildcard part or all of the
volume name. \s-1OPTIONS\s0 lists the acceptable metacharacters.
.SH "CAUTIONS"
.IX Header "CAUTIONS"
It is best to issue this command in interactive mode. If issuing it at the
shell prompt, enclose any strings containing metacharacters in double
quotes, or escape the metacharacters with other delimiters, to prevent the
shell from interpreting them. Adding volume entries to a temporary volume
set is possible only within the interactive session in which the volume
set was created.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-name\fR <\fIvolume set name\fR>" 4
.IX Item "-name <volume set name>"
Names the volume set to which to add this volume entry definition.  The
volume set must already exist (use the \fBbackup addvolset\fR command to
create it).
.IP "\fB\-server\fR <\fImachine name\fR>" 4
.IX Item "-server <machine name>"
Defines the set of one or more file server machines that house the volumes
in the volume entry. Provide either one fully-qualified hostname (such as
\&\f(CW\*(C`fs1.abc.com\*(C'\fR) or the metacharacter expression \f(CW\*(C`.*\*(C'\fR (period and
asterisk), which matches all machine names in the \s-1VLDB\s0.
.IP "\fB\-partition\fR <\fIpartition name\fR>" 4
.IX Item "-partition <partition name>"
Defines the set of one or more partitions that house the volumes in the
volume entry. Provide either one complete partition name (such as
\&\f(CW\*(C`/vicepa\*(C'\fR) or the metacharacter expression \f(CW\*(C`.*\*(C'\fR (period and asterisk),
which matches all partition names.
.IP "\fB\-volumes\fR <\fIvolume name\fR>" 4
.IX Item "-volumes <volume name>"
Defines the set of one or more volumes included in the volume
entry. Specify the volumes by name, by using any combination of regular
alphanumeric characters and one or more of the following metacharacter
expressions:
.RS 4
.IP "." 4
The period matches any single character.
.IP "*" 4
The asterisk matches zero or more instances of the preceding character.
Combine it with any other alphanumeric character or metacharacter.
.IP "[ ]" 4
Square brackets around a list of characters match a single instance of any
of the characters, but no other characters; for example, \f(CW\*(C`[abc]\*(C'\fR matches
a single \f(CW\*(C`a\*(C'\fR or \f(CW\*(C`b\*(C'\fR or \f(CW\*(C`c\*(C'\fR, but not \f(CW\*(C`d\*(C'\fR or \f(CW\*(C`A\*(C'\fR. This expression can
be combined with the asterisk.
.IP "^" 4
The caret, when used as the first character in a square-bracketed set,
designates a match with any single character \fIexcept\fR the characters that
follow it; for example, \f(CW\*(C`[^a]\*(C'\fR matches any single character except
lowercase \f(CW\*(C`a\*(C'\fR. This expression can be combined with the asterisk.
.IP "\e" 4
.IX Item ""
A backslash preceding any of the metacharacters in this list makes it
match its literal value only. For example, the expression \f(CW\*(C`\e.\*(C'\fR (backslash
and period) matches a single period, \f(CW\*(C`\e*\*(C'\fR a single asterisk, and \f(CW\*(C`\e\e\*(C'\fR a
single backslash.  Such expressions can be combined with the asterisk (for
example, \f(CW\*(C`\e.*\*(C'\fR matches any number of periods).
.RE
.RS 4
.Sp
Perhaps the most common metacharacter expression is the period followed by
an asterisk (\f(CW\*(C`.*\*(C'\fR). This expression matches any string of any length,
because the period matches any character and the asterisk means any number
of that character. As mentioned, it is the only acceptable metacharacter
expression for the \fB\-server\fR and \fB\-partition\fR arguments. In a volume
definition it can stand alone (in which case it matches every volume
listed in the \s-1VLDB\s0), or can combine with regular characters. The following
example matches any volume name that begins with the string \f(CW\*(C`user\*(C'\fR and
ends with \f(CW\*(C`backup\*(C'\fR:
.Sp
.Vb 1
\&   user.*backup
.Ve
.RE
.IP "\fB\-localauth\fR" 4
.IX Item "-localauth"
Constructs a server ticket using a key from the local
\&\fI/usr/afs/etc/KeyFile\fR file. The \fBbackup\fR command interpreter presents
it to the Backup Server, Volume Server and \s-1VL\s0 Server during mutual
authentication. Do not combine this flag with the \fB\-cell\fR argument. For
more details, see \fIbackup\fR\|(8).
.IP "\fB\-cell\fR <\fIcell name\fR>" 4
.IX Item "-cell <cell name>"
Names the cell in which to run the command. Do not combine this argument
with the \fB\-localauth\fR flag. For more details, see \fIbackup\fR\|(8).
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following command adds a volume entry to the volume set called
\&\f(CW\*(C`sys\*(C'\fR. The entry matches all volumes on any machine or partition whose
names begin with the string \f(CW\*(C`sun4x_56\*(C'\fR followed by a period:
.PP
.Vb 1
\&   backup> addvolentry sys .* .* sun4x_56\e..*
.Ve
.PP
The following command adds a volume entry to the volume set called \f(CW\*(C`fs2\*(C'\fR,
to match all volumes on the \fI/vicepb\fR partition of file server machine
\&\f(CW\*(C`fs2.abc.com\*(C'\fR. Because it is issued at the shell prompt, double quotes
surround the metacharacters in the \fB\-volumes\fR argument. (The command is
shown here on two lines only for legibility reasons.)
.PP
.Vb 2
\&   % backup addvolentry \-name fs2 \-server fs2.abc.com \e
\&                        \-partition /vicepb \-volumes ".*"
.Ve
.PP
The chapter in the \fIOpenAFS Administration Guide\fR about configuring the
\&\s-1AFS\s0 Backup System presents additional examples as well as advice on
grouping volumes.
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must be listed in the \fI/usr/afs/etc/UserList\fR file on every
machine where the Backup Server is running, or must be logged onto a
server machine as the local superuser \f(CW\*(C`root\*(C'\fR if the \fB\-localauth\fR flag is
included.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIbackup\fR\|(8),
\&\fIbackup_addvolset\fR\|(8),
\&\fIbackup_delvolentry\fR\|(8),
\&\fIbackup_delvolset\fR\|(8),
\&\fIbackup_listvolsets\fR\|(8)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
