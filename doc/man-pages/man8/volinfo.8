.\" Automatically generated by Pod::Man 2.23 (Pod::Simple 3.14)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VOLINFO 8"
.TH VOLINFO 8 "2011-09-06" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
volinfo \- Produces detailed statistics about AFS volume headers
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBvolinfo\fR [\fB\-online\fR] [\fB\-vnode\fR] [\fB\-date\fR] [\fB\-inode\fR] [\fB\-itime\fR]
    [\fB\-part\fR\ <\fI\s-1AFS\s0\ partition\ name\ (default\ current\ partition)\fR>+]
    [\fB\-volumeid\fR\ <\fIvolume\ id\fR>+] [\fB\-header\fR] [\fB\-sizeOnly\fR]
    [\fB\-fixheader\fR] [\fB\-saveinodes\fR] [\fB\-orphaned\fR] [\fB\-help\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBvolinfo\fR command displays detailed statistics about one or more
volume headers and the partition that houses them. The command must be
issued on a file server machine and by default produces output for every
volume on every \s-1AFS\s0 server partition on the machine. To display output for
the volumes on one partition only, include the \fB\-part\fR argument. To
display output for one volume only, include the \fB\-volumeid\fR argument.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-online\fR" 4
.IX Item "-online"
Is nonoperational.
.IP "\fB\-vnode\fR" 4
.IX Item "-vnode"
Displays a table for each volume which lists the large (directory) and
small (file) vnodes in it, in addition to the default output.
.IP "\fB\-date\fR" 4
.IX Item "-date"
When combined with the \fB\-vnode\fR flag, adds the \f(CW\*(C`ServerModTime\*(C'\fR field to
each vnode entry in the large vnode and small vnode tables, reporting its
most recent modification time.
.IP "\fB\-inode\fR" 4
.IX Item "-inode"
When combined with the \fB\-vnode\fR flag, adds the \f(CW\*(C`inode\*(C'\fR field to each
vnode entry in the large vnode and small vnode tables, reporting the
associated inode number.
.IP "\fB\-itime\fR" 4
.IX Item "-itime"
When combined with the \fB\-vnode\fR flag, displays a change, modification,
and access timestamp for each of the large vnode and small vnode tables.
.IP "\fB\-part\fR <\fIpartition name\fR>+" 4
.IX Item "-part <partition name>+"
Specifies the partition that houses each volume for which to produce
output. Use the format \fI/vicep\fIxx\fI\fR, where \fIxx\fR is one or two lowercase
letters. This argument can be omitted if the current working directory is
the mount location for an \s-1AFS\s0 server partition; it is not the mount
location for an \s-1AFS\s0 server partition, the command produces output for
every volume on all local \s-1AFS\s0 server partitions.
.IP "\fB\-volumeid\fR <\fIvolume id\fR>+" 4
.IX Item "-volumeid <volume id>+"
Specifies the \s-1ID\s0 number of one volume for which to produce output.  The
\&\fB\-part\fR argument must be provided along with this one unless the current
working directory is the mount location for the \s-1AFS\s0 server partition that
houses the volume.
.IP "\fB\-header\fR" 4
.IX Item "-header"
Displays statistics about the volume header of each volume, in addition to
the default output.
.IP "\fB\-sizeOnly\fR" 4
.IX Item "-sizeOnly"
Displays a single line of output for each volume, reporting the size of
various structures associated with it. The default output is suppressed
and any flags that modify it (such as \fB\-vnode\fR) are ignored.
.IP "\fB\-fixheader\fR" 4
.IX Item "-fixheader"
Repairs damaged inodes in each volume if possible. If there are any, it
reports the action it is taking to repair them. Otherwise, it produces no
output in addition to the default output.
.IP "\fB\-saveinodes\fR" 4
.IX Item "-saveinodes"
Creates a file in the current working directory for each inode in each
volume. Each file is called \fITmpInode.\fIvnode_number\fI\fR and contains the
inode's contents. The default output is suppressed and any flags that
modify it (such as \fB\-vnode\fR) are ignored.
.IP "\fB\-orphaned\fR" 4
.IX Item "-orphaned"
Displays a large vnode and small vnode table for each volume, which lists
only orphaned vnodes (vnodes that have no parent). If there are none, the
tables are empty (only the headers appear).
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "OUTPUT"
.IX Header "OUTPUT"
By default, the command produces several line of statistics for each
volume. Adding other options produces or substitutes additional
information as described in \s-1OPTIONS\s0.  The output is intended for
debugging purposes and is meaningful to someone familiar with the internal
structure of volume headers.
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must be logged in as the local superuser \f(CW\*(C`root\*(C'\fR.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIvldb.DB0\fR\|(5),
\&\fIvolserver\fR\|(8)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
