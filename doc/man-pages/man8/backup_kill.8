.\" Automatically generated by Pod::Man 2.23 (Pod::Simple 3.14)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "BACKUP_KILL 8"
.TH BACKUP_KILL 8 "2011-09-06" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
backup_kill \- Terminates a pending or running operation
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBbackup kill\fR \fB\-id\fR\ <\fIjob\ \s-1ID\s0\ or\ dump\ set\ name\fR> [\fB\-help\fR]
.PP
\&\fBbackup k\fR \fBk\ \-i\fR\ <\fIjob\ \s-1ID\s0\ or\ dump\ set\ name\fR> [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBbackup kill\fR command dequeues a Backup System operation that is
pending, or terminates an operation that is running, in the current
interactive session. It is available only in interactive mode.  If the
issuer of the \fBbackup interactive\fR command included the \fB\-localauth\fR
flag, the \fB\-cell\fR argument, or both, then those settings apply to this
command also.
.PP
To terminate a dump operation, specify either the dump name
(\fIvolume_set_name\fR.\fIdump_level_name\fR) or its job \s-1ID\s0 number, which
appears in the output from the \fBbackup jobs\fR command. To terminate any
other type of operation, provide the job \s-1ID\s0 number.
.PP
The effect of terminating an operation depends on the type and current
state of the operation:
.IP "\(bu" 4
If an operation is still pending, the Tape Coordinator removes it from the
queue with no other lasting effects.
.IP "\(bu" 4
If the Tape Coordinator is unable to process the termination signal before
an operation completes, it simply confirms the operation's completion. The
operator must take the action necessary to undo the effects of the
incorrect operation.
.IP "\(bu" 4
If a tape labeling operation is running, the effect depends on when the
Tape Coordinator receives the termination signal. The labeling operation
is atomic, so it either completes or does not begin at all.  Use the
\&\fBbackup readlabel\fR command to determine if the labeling operation
completed, and reissue the \fBbackup labeltape\fR command to overwrite the
incorrect label if necessary.
.IP "\(bu" 4
If a tape scanning operation is running, it terminates with no other
effects unless the \fB\-dbadd\fR flag was included on the \fBbackup\fR
command. In that case, the Backup System possibly has already written new
Backup Database records to represent dumps on the scanned tape. If
planning to restart the scanning operation, first locate and remove the
records created during the terminated operation: a repeated \fBbackup
scantape\fR operation exits automatically when it finds that a record that
it needs to create already exists.
.IP "\(bu" 4
If a dump operation is running, all of the volumes written to the tape or
backup data file before the termination signal is received are complete
and usable. If the operation is restarted, the Backup System performs all
the dumps again from scratch, and assigns a new dump \s-1ID\s0 number. If writing
the new dumps to the same tape or file, the operator must relabel it first
if the interrupted dump is not expired. If writing the new dump to a
different tape or file, the operator can remove the dump record associated
with the interrupted dump to free up space in the database.
.IP "\(bu" 4
If a restore operation is running, completely restored volumes are online
and usable. However, it is unlikely that many volumes are completely
restored, given that complete restoration usually requires data from
multiple tapes. If the termination signal comes before the Backup System
has accessed all of the necessary tapes, each volume is only partially
written and is never brought online. It is best to restart the restore
operation from scratch to avoid possible inconsistencies. See also
\&\s-1CAUTIONS\s0.
.SH "CAUTIONS"
.IX Header "CAUTIONS"
It is best not to issue the \fBbackup kill\fR command against restore
operations. If the termination signal interrupts a restore operation as
the Backup System is overwriting an existing volume, it is possible to
lose the volume entirely (that is, to lose both the contents of the volume
as it was before the restore and any data that was restored before the
termination signal arrived). The data being restored still exists on the
tape, but some data can be lost permanently.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-id\fR <\fIjob \s-1ID\s0 or dump set name\fR>" 4
.IX Item "-id <job ID or dump set name>"
Identifies the backup operation to terminate. Provide one of two types of
values:
.RS 4
.IP "\(bu" 4
The operation's job \s-1ID\s0 number, as displayed in the output of the \fBbackup
jobs\fR command.
.IP "\(bu" 4
For a dump operation, either the job \s-1ID\s0 number or a dump name of the form
\&\fIvolume_set_name\fR.\fIdump_level_name\fR, where \fIvolume_set_name\fR is the
name of the volume set being dumped and \fIdump_level_name\fR is the last
element in the dump level pathname at which the volume set is being
dumped. The dump name appears in the output of the \fBbackup jobs\fR command
along with the job \s-1ID\s0 number.
.RE
.RS 4
.RE
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following command terminates the operation with job \s-1ID\s0 5:
.PP
.Vb 1
\&   backup> kill 5
.Ve
.PP
The following command terminates the dump operation called
\&\f(CW\*(C`user.sunday1\*(C'\fR:
.PP
.Vb 1
\&   backup> kill user.sunday1
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must have the privilege required to initiate the operation
being cancelled. Because this command can be issued only within the
interactive session during which the operation was initiated, the required
privilege is essentially guaranteed.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIbackup\fR\|(8),
\&\fIbackup_interactive\fR\|(8),
\&\fIbackup_jobs\fR\|(8)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
