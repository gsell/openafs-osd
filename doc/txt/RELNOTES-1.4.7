                  OpenAFS Release Notes - Version 1.4.7
     _________________________________________________________________
File servers: Major bugfixes.
All systems: Minor bugfixes.
     _________________________________________________________________

* Bugfixes:

AIX:

- Kerberos as included in AIX has missing symbols. AFS krb5 tools now
  deal correctly.

- AIX LAM aklog plugin can now be used CDE screenlocker.

- Add support for getting the current PAG in pagsh and PAM.

- Avoid sending a terminal hangup to STREAMS in aklog.

- Fix afsdb support in the client.

Linux:

- Kernels through 2.6.25 are now supported. (77370,88000,83716,83890,80463)

- Client now only hashes dirty inodes. (78544)

- Fix to avoid returning invalid mount point data when -fakestat-all is in use.
  (93898)

- RPM build system updates. (93616)

- Restored write-on-close-or-fsync semantics when possible. (17509)

- Enabled support for flock() on files in AFS. (53457) 

- ARM Linux now supported.

- Kernel keyring support updated.

- Fix client-displayed timestamp ordering by zeroing nanosecond field.

MacOS:

- Boot time init script now uses afs.conf to store config options. (81825)

- Avoid kernel panic due to excessive lock tracking when removing files.

- Avoid leaking kernel memory when trying to read() a directory.

Solaris:

- Avoid potential kernel panic if the root vnode of AFS changes.

- Avoid potential kernel panic when shutting down if contracts are in use.

- Avoid potential delays when creating new PAGs if the system clock
  has gone backwards.

All client systems:

- At client shutdown, try harder to clean up in-use resources. (74479)

- When fakestat is in use, enable optimization for Gnome Nautilus lookups.

- Properly hold lock when updating disk cache metadata to avoid 
  kernel panic. (59136)

- Avoid wrapping to the start of a file when attempting to write a large file
  to a pre-largefile fileserver. (73720) 

All server systems:

- Fixed to avoid truncating ubik databases during recovery. (77183)

- fileserver issue with internal file cache filling has been fixed. (87977)

- fileserver thread quota enforcement now done in all cases. (87416)

- fileserver avoids potential network-related deadlock when breaking 
  callbacks. 

- fileserver avoids crash due to race of resource creation and user requests
  at startup.

- fileserver avoids crash when reinitializing Ubik connections.

- volserver fixed to avoid leaving orphaned files during restore. (46937)

- volserver now supports convertROtoRW for inode fileservers.

- Support disabling kerberos 4 style username protection in servers. (75101)

All systems:

- Fix to butc to avoid crash due to threaded library variant.
 
- Fix to avoid network retransmission issues if the system clock goes 
  backwards.

- vos syncvldb and syncserver now support a dryrun (do nothing) mode.

- vos addsite now supports adding a site where a replica is already
  available.

- vos clone now supports creating properly-named readonly and backup clones.

- vos restore now allows an older copy of a volume at an alternate site to 
  not be removed.

- cmdebug now supports dumping a client's CellServDB.

- cmdebug now supports showing human-readable expiration times.

- aklog now handles Kerberos referrals.

- Additional documentation now included. (89288,89289,86677)
